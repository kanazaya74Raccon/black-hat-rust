#include <dlfcn.h>
#include <stdio.h>
#include <stdlib.h>

void (*a)(void);
// int (*c)(int d);

int main()
{
  void* lib = dlopen("./libnss_x/x.so.2",RTLD_LAZY);

    printf("%p\n", lib);
    if (!lib) {
        fprintf(stderr, "%s\n", dlerror());
        exit(EXIT_FAILURE);
    }

  a=dlsym(lib,"hello_world_in_rust");
//   c=dlsym(lib,"c");
  a();
//   int b = a(5);
//   printf("b is %d d is %d\n",b,d);
  return 0;
}
